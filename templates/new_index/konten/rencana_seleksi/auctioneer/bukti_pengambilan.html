{% extends 'new_index/base1_auctioneer.html' %}

{% block extrahead %}
<link rel="stylesheet" type="text/css" href="/static/css/koGrid.css" >
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css">

  

{% endblock %}

{% block tambah_css %}
<style>
    .gridStyle {
        border: 1px solid rgb(255, 255, 255);
        width: 100%; 
        height: 300px;
        float: left;
    }
    .KgTopPanel{
        background-color: white;
    }
    .KgFooterPanel{
        background-color: white;
    }
    .kgRow.Even{
        background-color: #edf5fd;
    }
    .KgRow.Even.selected{
	background-color: rgb(189, 208, 203);
	}

    .sd-container-modern{
        margin: 0px;
    }

    .sd-body--responsive .sd-page.sd-page__empty-header {
        padding-top: calc(3 * var(--base-unit, 8px));
    }

    .navbar-expand{
        flex-wrap: nowrap;
        display: flex;
        justify-content: space-between;
    }
    a{
        text-decoration:none;
    }
    .sd-page.sd-body__page.sd-page__empty-header{
        background-color: white;
        padding: 0px;
    }
    .sd-action-bar.sd-footer.sd-body__navigation.sd-clearfix{
        display: none;
    }

    .sd-row.sd-clearfix.sd-page__row.sd-row--multiple{
        margin: 0px !important;
    }
    table.dataTable thead > tr > th.sorting, table.dataTable thead > tr > th.sorting_asc, table.dataTable thead > tr > th.sorting_desc, table.dataTable thead > tr > th.sorting_asc_disabled, table.dataTable thead > tr > th.sorting_desc_disabled, table.dataTable thead > tr > td.sorting, table.dataTable thead > tr > td.sorting_asc, table.dataTable thead > tr > td.sorting_desc, table.dataTable thead > tr > td.sorting_asc_disabled, table.dataTable thead > tr > td.sorting_desc_disabled {
    cursor: pointer;
    position: relative;
    padding-right: 26px;
    background: #ffff;
}

.select2-container--default .select2-results__option .checkbox-input {
    float: right;
    margin-left: 177px;
}

    .my-dropdown {
    display: none;
  }
  /* label:not(.form-check-label):not(.custom-file-label) {
    font-weight: 30;
} */
  #myTable {
   font-size: 15px;
  }
</style>
{% endblock  %}

{% block navbar %}
{% include 'new_index/parts/navbar_kosong.html' %}
{% endblock %}

{% block konten_isi %}
<div class="container" style="padding-top: 0px;">
    <div class="row">
        <div class="col">
            <h1 style="color: rgb(0,114,228);font-size: 24px;font-weight: bold;">Bukti Pengambilan<br></h1>
            <hr>
        </div>
    </div>
            <div class="card-body" style="background: white;">
              <div class="tab-content" id="custom-tabs-one-tabContent">
                <div class="tab-pane fade show active" id="custom-tabs-one-1" role="tabpanel" aria-labelledby="custom-tabs-one-1-tab">
                  <!-- bidder list -->
                  <div class="container" style="padding-top: 0px;">
                    <div class="row">
                      <div style="display: flex; flex-wrap: nowrap; justify-content: left; flex-direction: row; margin-left: 15px;">
                        <div class="col1">
                            <label  class="nama_label">Tahun</label>
                        </div>
                        <div class="col-4">
                            <div class="form-group">
                                <!-- <label  class="nama_label">Test</label> -->
                                <select name="" id="search_per" class="form-control">
                                    <option value="" selected>--Silahkan Pilih Tahun--</option>
                                    <option value="2023">2023</option>
                                    <option value="2022">2022</option>
                                    <option value="2021">2021</option>
                                    <option value="2020">2020</option>
                                </select>
                            </div>
                        </div>
                        <div class="col1">
                            <label  class="nama_label">Judul</label>
                        </div>
                        <div class="col-4">
                            <div class="form-group">
                                <!-- <label  class="nama_label">Test</label> -->
                                <select name="" id="search_per_2" class="form-control">
                                    <option value="" selected>--Silahkan Pilih Judul--</option>
                                    <option value="2023">2023</option>
                                    <option value="2022">2022</option>
                                    <option value="2021">2021</option>
                                    <option value="2020">2020</option>
                                </select>
                            </div>
                        </div>
                        <div class="col1">
                            <div class="form-actions">
                                <button type="button" class="btn btn-primary" >Cari</button>
                            </div>
                        </div>
                      </div>
                    </div>
                    <hr>
                    <div class="table-responsive" style="text-align: center; border-bottom-style: outset; margin-top: 40px;">
                      <style>
                        /* CSS for the table rows */
                        #myTable tr:nth-child(1),
                        #myTable tr:nth-child(3) {
                          background-color: #EDF5FD;
                        }
                      </style>
                      <table id="myTable" class="display" style="width: 100%;"></table>
                    </div>
                  </div>
                </div>
                </div>
              </div>
            </div>
            <!-- /.card -->
          </div>
        </div>
      </div>
      </div>
      
      <div class="modal" tabindex="-1" role="dialog" id="exampleModal">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h3 class="modal-title" id="title-modal">Tambah Berita Acara</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body" id="content-modal">
              
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Batal</button>
              <button type="button" class="btn btn-success">Simpan</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
{% endblock %}


{% block footer %}
{% include 'new_index/parts/footer_dashboard.html' %}
{% endblock %}

{% block modal %}

{% endblock %}

{% block script %}
<script>
    var viewModel = {
      myData: [
        { No: 1, NamaPerusahaan: 'PT JAYA', NamaPerwakilan: 'Edi Sudrajat', WaktuPengambilan: '12:00:00 3 Maret 2023', 'Aksi': '<a href="#"></a>' },
        { No: 2, NamaPerusahaan: 'PT JAYA', NamaPerwakilan: 'Edi Sudrajat', WaktuPengambilan: '12:00:00 3 Maret 2023', 'Aksi': '<a href="#"></a>' },
        { No: 3, NamaPerusahaan: 'PT JAYA', NamaPerwakilan: 'Edi Sudrajat', WaktuPengambilan: '12:00:00 3 Maret 2023', 'Aksi': '<a href="#"></a>' }
      ]
    };
  
    $(document).ready(function() {
      $('#myTable').DataTable({
        data: viewModel.myData,
        columns: [
          { data: 'No', title: 'No', width: '40px' },
          { data: 'NamaPerusahaan', title: 'Nama Perusahaan', width: '150px'},
          { data: 'NamaPerwakilan', title: 'Nama Perwakilan', width: '100px' },
          { data: 'WaktuPengambilan', title: 'Waktu Pengambilan', width: '80px' },
          { 
                    data: 'Aksi', 
                    title: 'Aksi', 
                    width: '176px',
                    render: function(data, type, row) {
                        return '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 20H21" stroke="#007bff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M16.5 3.50023C16.8978 3.1024 17.4374 2.87891 18 2.87891C18.2786 2.87891 18.5544 2.93378 18.8118 3.04038C19.0692 3.14699 19.303 3.30324 19.5 3.50023C19.697 3.69721 19.8532 3.93106 19.9598 4.18843C20.0665 4.4458 20.1213 4.72165 20.1213 5.00023C20.1213 5.2788 20.0665 5.55465 19.9598 5.81202C19.8532 6.06939 19.697 6.30324 19.5 6.50023L7 19.0002L3 20.0002L4 16.0002L16.5 3.50023Z" stroke="#007bff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 6H21" stroke="#D11F40" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M19 6V20C19 21 18 22 17 22H7C6 22 5 21 5 20V6" stroke="#D11F40" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 6V4C8 3 9 2 10 2H14C15 2 16 3 16 4V6" stroke="#D11F40" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M10 11V17" stroke="#D11F40" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M14 11V17" stroke="#D11F40" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>' + data;
                    }
                }
        ],
        columnDefs: [
          { className: 'text-center', targets: '_all' } 
        ]
      });
    });

    $(document).ready(function() {
    $('#tanggal').datepicker({
        format: 'yyyy-mm-dd', // Modify the date format as per your needs
        autoclose: true,
        todayHighlight: true,
    });
});

function changeFormTo(opsi, showmodal = 0) {
      let jsons = ''; // ini nanti untuk tampung data json
      let hitApi = ''; // ini nanti ganti sesuai hit api kemana
      let titleModal = '';
      let mainTitle = '';
      let content = '';
      switch (opsi) {
        case 'buat':
          mainTitle = '';
          titleModal = 'Tambah Berita Acara';
          content = `
          <div class="row">
            <div class="form-group col">
              <label  class="form-control-label">Nomor Dokumen</label>
              <input type="text" name="nomordokumen" id="nomordokumen" placeholder="Nomor Dokumen" class="form-control">
            </div>
            <div class="form-group col">
              <label  class="form-control-label">Penerima</label>
              <select id="myDropdown" multiple="multiple" style="width: 300px;">
                <option value="option1">User 1</option>
                <option value="option2">User 2</option>
                <option value="option3">User 3</option>
                <option value="option4">User 4</option>
                <option value="option5">User 5</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div class="form-group col">
              <label  class="form-control-label">Judul Berita Acara</label>
              <input type="text" name="judulberitaacara" id="judulberitaacara" placeholder="Judul" class="form-control">
            </div>
            <div class="form-group col">
              <label  class="form-control-label">Upload BA</label>
              <input type="file" name="uploadba" id="uploadba" class="form-control">
            </div>
          </div>
          <div class="row">
            <div class="form-group col">
              <label  class="form-control-label">Tanggal</label>
              <input type="date" name="tanggal" id="tanggal" placeholder="Judul" class="form-control">
            </div>
            <div class="col">
              <button class="btn btn-success">Download File Template</button>
            </div>
          </div>
          <div class="row">
            <div class="form-group col">
              <label  class="form-control-label">Keterangan</label>
              <textarea class="form-control"></textarea>
            </div>
            <div class="col">
            </div>
          </div>
          `;
          break;
        case 'lihat':
          titleModal = 'Lihat Berita Acara';
          content = `
          <div class="row">
            <div class="form-group col">
              <label  class="form-control-label">Nomor Dokumen</label>
              <input type="text" name="nomordokumen" id="nomordokumen" placeholder="Nomor Dokumen" class="form-control" value="9283177321872" disabled>
            </div>
            <div class="form-group col">
              <label  class="form-control-label">Penerima</label>
              <select name="penerima" id="penerima" class="form-control" disabled>
                <option value="">-- Pilih Penerima --</option>
                <option value="user1" selected>User 1</option>
                <option value="user1">User 1</option>
                <option value="user1">User 1</option>
                <option value="user1">User 1</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div class="form-group col">
              <label  class="form-control-label">Judul Berita Acara</label>
              <input type="text" name="judulberitaacara" id="judulberitaacara" placeholder="Judul" class="form-control" value="Dokumen 1" disabled>
            </div>
            <div class="form-group col">
              <button class="btn btn-success">Download BA</button>
            </div>
          </div>
          <div class="row">
            <div class="form-group col">
              <label  class="form-control-label">Tanggal</label>
              <input type="date" name="tanggal" id="tanggal" placeholder="Judul" class="form-control" value="01/05/2023" disabled>
            </div>
            <div class="col">
            </div>
          </div>
          <div class="row">
            <div class="form-group col">
              <label  class="form-control-label">Keterangan</label>
              <textarea class="form-control" disabled>melakukan lelang secara berkala</textarea>
            </div>
            <div class="col">
            </div>
          </div>
          `;
          break;
      }
      $("#title-main").html(mainTitle);
      $("#title-modal").html(titleModal);
      $("#content-modal").html(content);
      $("#exampleModal").modal('show');
      if (showmodal) {
      }
      $('#myDropdown').select2({
        templateResult: function(data) {
          if (!data.id) {
            return data.text;
          }

          var $checkboxLabel = $('<label class="checkbox-label"></label>');
          var $checkbox = $('<input type="checkbox" class="checkbox-input">');
          $checkboxLabel.append(data.text).append($checkbox);

          $checkbox.prop('checked', data.element.selected);

          return $checkboxLabel;
        }
      });
    }

    $(document).ready(function () {
    // Menampilkan dropdown ketika tombol diklik
    $("#showDropdownBtn").click(function () {
      $("#myDropdown").show();
    });

    // Inisialisasi plugin Select2 pada dropdown
    $("#myDropdown").select2({
      templateResult: function (data) {
        if (!data.id) {
          return data.text;
        }

        var $checkbox = $('<input type="checkbox" class="checkbox-input" style+"margin-right: 500px">');
        var $option = $('<span></span>').text(data.text).prepend($checkbox);

        $checkbox.prop('checked', data.element.selected);

        return $option;
      }
    });
  });
  </script>
{% endblock  %}